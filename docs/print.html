<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Introduction to Compilers and Language Design</title>
        <meta name="robots" content="noindex" />
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="chapter1.html"><strong aria-hidden="true">1.</strong> Chapter 1: Introduction</a></li><li class="chapter-item expanded "><a href="chapter2.html"><strong aria-hidden="true">2.</strong> Chapter 2: A Quick Tour</a></li><li class="chapter-item expanded "><a href="chapter3.html"><strong aria-hidden="true">3.</strong> Chapter 3: Scanning</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Introduction to Compilers and Language Design</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<p>These are my notes for the book <a href="https://www3.nd.edu/%7Edthain/compilerbook/">Introduction to Compilers and Language
Design</a>.</p>
<p>The source repository for this website is
<a href="https://github.com/psibi/compilers">here</a>. Any pull requests,
contributions welcome!</p>
<h2 id="what-is-a-compiler"><a class="header" href="#what-is-a-compiler">What is a compiler?</a></h2>
<ul>
<li>A compiler translates a program in a source language to a program in
a target language.</li>
<li>A compiler is distinct from an <strong>interpreter</strong>, which reads in a
program and then executes it directly, without emitting a
translation. This is also sometimes known as a <strong>virtual machine</strong>.
Languages like Python and Ruby are typically executed by an
interpreter that reads the source code directly.</li>
<li>Compilers and interpreters are closely related, and it is sometimes
possible to exchange one for the other. For example, Java compilers
translate Java source code into Java bytecode, which is an abstract
form of assembly language. Some implementations of the Java Virtual
Machine work as interpreters that execute one instruction at a time.
Others work by translating the bytecode into local machine code, and
then running the machine code directly. This is known as just in
time compiling or JIT.</li>
</ul>
<h2 id="why-should-you-study-compilers-"><a class="header" href="#why-should-you-study-compilers-">Why should you study compilers ?</a></h2>
<ul>
<li>You will be a better programmer.</li>
<li>You can create tools for debugging and translating.</li>
<li>You can create new languages.</li>
<li>You can contribute to existing compilers.</li>
</ul>
<h2 id="what-language-should-i-use"><a class="header" href="#what-language-should-i-use">What language should I use</a></h2>
<ul>
<li>Author thinks you should use C and use it to compile a C like
language which produces assembly for a widely used processor like
x86 or ARM.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="a-quick-tour"><a class="header" href="#a-quick-tour">A Quick Tour</a></h1>
<h2 id="the-compiler-toolchain"><a class="header" href="#the-compiler-toolchain">The Compiler Toolchain</a></h2>
<p><img src="./images/c2_compiler_toolchain.png" alt="" /></p>
<h2 id="stages-within-a-compiler"><a class="header" href="#stages-within-a-compiler">Stages Within a Compiler</a></h2>
<p><img src="./images/c2_compiler_stages.png" alt="" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="scanning"><a class="header" href="#scanning">Scanning</a></h1>
<h2 id="kind-of-tokens"><a class="header" href="#kind-of-tokens">Kind of Tokens</a></h2>
<ul>
<li>Scanning is the process of identifying <strong>tokens</strong> from the raw text
source code of a program.</li>
</ul>
<p>Most languages will have tokens in these categories:</p>
<ul>
<li>Keywords</li>
<li>Identifiers</li>
<li>Numbers</li>
<li>Strings</li>
<li>Comments and Whitespace</li>
</ul>
<h2 id="a-hand-made-scanner"><a class="header" href="#a-hand-made-scanner">A Hand-Made Scanner</a></h2>
<ul>
<li>The basic approach is to read one character at a time from the input
stream (<code>fgetc(fp)</code>) and then classify it.</li>
<li>Hand Made scanner is usually verbose.</li>
<li>For a complex language with a large number of tokens, we need a more
formalized approach to defining and scanning tokens. A formal
approach will allow us to have a greater confidence that token
definitions do not conflict and the scanner is implemented
correctly.</li>
<li>The formal tools of <strong>regular expressions</strong> and <strong>finite automata</strong>
allow us to state very precisely what may appear in a given token
type. Then, automated tools can process these definitions, find
errors or ambiguities, and produce compact, high performance code.</li>
</ul>
<h2 id="regular-expressions"><a class="header" href="#regular-expressions">Regular Expressions</a></h2>
<ul>
<li>Regular expressions (REs) are a language for expressing patterns.</li>
<li>They were first described in the 1950s by Stephen Kleene.</li>
</ul>
<p><img src="./images/c3_regular_expression.png" alt="" /></p>
<p>Note that <em>ϵ</em> represents empty string.</p>
<p><img src="./images/c3_re_examples.png" alt="" /></p>
<p>The syntax described so far is entirely sufficient to write any regular
expression. But, it is also handy to have a few helper operations built
on top of the basic syntax:</p>
<p><img src="./images/c3_re_helpers.png" alt="" /></p>
<p>Regular expressions also obey several algebraic properties, which make
it possible to re-arrange them as needed for efficiency or clarity:</p>
<p><img src="./images/c3_re_algebric_properties.png" alt="" /></p>
<p>Some exaxmples of regular expressions:</p>
<p><img src="./images/c3_re_more_examples.png" alt="" /></p>
<h2 id="finite-automata"><a class="header" href="#finite-automata">Finite Automata</a></h2>
<ul>
<li>A <strong>finite automaton (FA)</strong> is an abstract machine that can be used
to represent certain forms of computation.</li>
<li>Graphically, an FA consists of a number of states (represented by
numbered circles) and a number of edges (represented by labeled
arrows) between those states. Each edge is labeled with one or more
symbols drawn from an alphabet Σ.</li>
<li>The machine begins in a start state S0. For each input symbol
presented to the FA, it moves to the state indicated by the edge
with the same label as the input symbol.</li>
<li>Some states of the FA are known as <strong>accepting states</strong> and are
indicated by a double circle. If the FA is in an accepting state
after all input is consumed, then we say that the FA <strong>accepts</strong> the
input.</li>
<li>We say that the FA <strong>rejects</strong> the input string if it ends in a
non-accepting state, or if there is no edge corresponding to the
current input symbol.</li>
<li><strong>Every RE can be written as an FA, and vice versa.</strong></li>
<li>For a simple regular expression, one can construct an FA by hand.</li>
</ul>
<p>FA for regular expression <code>for</code>:</p>
<p><img src="./images/c3_fa_for.png" alt="" /></p>
<p>FA for regular expression <code>[a-z][a-z0-9]+</code>:</p>
<p><img src="./images/c3_fa_ex2.png" alt="" /></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
    </body>
</html>
